(this["webpackJsonpreact-tree"]=this["webpackJsonpreact-tree"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(7),o=n.n(i),u=(n(13),n(2)),c=n(3),s=n(4),l=n(5),d=Object(a.createContext)("light"),m=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this.context,e=t.removeItem,n=t.moveUp,a=t.moveDown,i=t.addSublist,o=t.removeSublist,u=this.props,c=u.id,s=(u.name,u.canMoveUp),l=u.canMoveDown,d=u.hasSublist;return r.a.createElement("li",null,r.a.createElement("span",null,this.props.name),s&&r.a.createElement("button",{onClick:function(){return n(c)}},"\u2191"),l&&r.a.createElement("button",{onClick:function(){return a(c)}},"\u2193"),d?r.a.createElement("button",{onClick:function(){return o(c)}},"Remove Sublist"):r.a.createElement("button",{onClick:function(){return i(c)}},"Add Sublist"),r.a.createElement("button",{onClick:function(){return e(c)}},"Remove"),d&&r.a.createElement(f,{parentId:c}))}}]),n}(a.PureComponent);m.contextType=d;var f=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).renderListItems=function(){var t=function(t,e){return t.filter((function(t){return t.parentId===e}))}(a.context.data,a.props.parentId);return t?t.map((function(e,n){return r.a.createElement(m,{key:e.id,id:e.id,name:e.name,hasSublist:e.hasSublist,canMoveUp:n>0,canMoveDown:n<t.length-1})})):[]},a.handleNewListItemNameInput=function(t){a.setState({newListItemName:t.target.value})},a.isValidNewListItemName=function(){return!!a.state.newListItemName},a.addItem=function(){a.context.addItem(a.props.parentId,a.state.newListItemName),a.setState({newListItemName:""})},a.state={newListItemName:""},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("ul",null,this.renderListItems(),r.a.createElement("li",null,r.a.createElement("input",{placeholder:"Enter name",type:"text",onChange:this.handleNewListItemNameInput,value:this.state.newListItemName}),r.a.createElement("button",{disabled:!this.isValidNewListItemName(),onClick:this.addItem},"Add")))}}]),n}(a.Component);f.contextType=d;var v=n(1),p=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},h=10,b=function(t,e){for(var n=t[e],a=t.slice(0,e),r=e-1;r>=0;r--){if(a[r].parentId===n.parentId)return r}return-1},I=function(t,e){for(var n=t[e],a=t.slice(e+1),r=0;r<a.length;r++){if(a[r].parentId===n.parentId)return e+1+r}return-1},S=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).addItem=function(t,e){var n=function(t,e,n){return t.concat({id:h++,name:n,parentId:e})}(a.state.data,t,e);a.setState({data:n})},a.removeItem=function(t){var e=function(t,e){return t.filter((function(t){return t.id!==e}))}(a.state.data,t);a.setState({data:e})},a.moveUp=function(t){var e=function(t,e){var n=p(t,(function(t){return t.id===e})),a=t[n],r=b(t,n),i=t[r];return t.map((function(t,e){return e===r?Object(v.a)({},a):e===n?Object(v.a)({},i):t}))}(a.state.data,t);a.setState({data:e})},a.moveDown=function(t){var e=function(t,e){var n=p(t,(function(t){return t.id===e})),a=t[n],r=I(t,n),i=t[r];return t.map((function(t,e){return e===r?Object(v.a)({},a):e===n?Object(v.a)({},i):t}))}(a.state.data,t);a.setState({data:e})},a.addSublist=function(t){console.log("RootList#addSublist: ",{listItemId:t});var e=function(t,e){return console.log("reducers/addSublist: ",{data:t,listItemId:e}),t.map((function(t){return t.id===e?Object(v.a)({},t,{hasSublist:!0}):t}))}(a.state.data,t);a.setState({data:e})},a.removeSublist=function(t){var e=function(t,e){return t.map((function(t){return t.id===e?Object(v.a)({},t,{hasSublist:!1}):t.parentId===e?void 0:t})).filter((function(t){return void 0!==t}))}(a.state.data,t);a.setState({data:e})},a.state={data:[{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}]},a}return Object(c.a)(n,[{key:"render",value:function(){var t={data:this.state.data,addItem:this.addItem,removeItem:this.removeItem,moveUp:this.moveUp,moveDown:this.moveDown,addSublist:this.addSublist,removeSublist:this.removeSublist};return r.a.createElement(d.Provider,{value:t},this.props.children)}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null,r.a.createElement(f,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},8:function(t,e,n){t.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.fc2aa055.chunk.js.map